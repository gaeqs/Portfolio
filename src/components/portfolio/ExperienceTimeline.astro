---
import { Icon } from "astro-icon/components";

interface ExperienceItem {
  date: string;
  title: string;
  company: string;
  description: string;
  tags: string[];
  current?: boolean;
}

const {title, icon, experiences} = Astro.props;
---

<div class="flex flex-col">
  <div class="flex items-center gap-2 pl-1">
    <div class="flex items-center justify-center w-6 h-6 rounded bg-zinc-900 border border-zinc-700 text-cyan-500">
      <Icon name={icon} />
    </div>

    <h3 class="text-sm font-mono font-bold uppercase tracking-widest text-zinc-400">
      {title}
    </h3>

    <div class="h-px flex-1 bg-gradient-to-r from-zinc-800 to-transparent"></div>
  </div>
  <div class="relative flex flex-col gap-8 pl-4 pt-4 border-l border-zinc-800 ml-4">
    {
      experiences.map((item) => (
              <div class="relative">
                {/* Timeline Node */}
                <div
                        class:list={[
                          "absolute -left-[22px] top-1.5 h-3 w-3 rounded-full transition-all duration-300",
                          item.current
                            ? "bg-cyan-500 shadow-[0_0_10px_rgba(6,182,212,0.8)]"
                            : "bg-zinc-800 group-hover:bg-zinc-600 border-zinc-950 border",
                        ]}
                />

                {/* Content Card */}
                <div class="flex flex-col gap-2">
                  {/* Header: Date & Title */}
                  <span class="font-mono text-xs text-zinc-500 tracking-wider">
            {item.date}
          </span>
                  <h3 class="text-lg font-sans font-bold text-zinc-100 tracking-tight group-hover:text-cyan-400 transition-colors">
                    {item.title}
                  </h3>

                  {/* Company */}
                  <div class="text-sm text-zinc-400 font-medium flex items-center gap-2">
                    <span class="w-1.5 h-1.5 rounded-sm bg-zinc-700"></span>
                    {item.company}
                  </div>

                  {/* Description */}
                  <p class="text-sm text-zinc-400 leading-relaxed max-w-2xl mt-1">
                    {item.description}
                  </p>

                  {/* Tech Stack Chips */}
                  <div class="flex flex-wrap gap-2 mt-3">
                    {item.tags.map((tag: any) => (
                            <span class="text-[10px] font-mono text-zinc-300 border border-white/10 bg-white/5 px-2 py-0.5 rounded hover:border-cyan-500/30 hover:text-cyan-300 transition-colors cursor-default">
                {tag}
              </span>
                    ))}
                  </div>
                </div>
              </div>
      ))
    }
  </div>
</div>